; MiniClaw ESP32 - PlatformIO Project
; Telegram Bot + Kimi LLM (z.ai) + GPIO Control

[env:esp32-s3-n16r8]
platform = espressif32@6.10.0
board = esp32-s3-devkitc-1
framework = arduino

; Board Settings for ESP32-S3 N16R8
board_build.arduino.memory_type = qio_qspi
board_build.partitions = default_16MB.csv
board_upload.flash_size = 16MB

; Build Flags
build_flags = 
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DCORE_DEBUG_LEVEL=3
    ; Increase stack size for HTTP requests
    -DCONFIG_ARDUINO_LOOP_STACK_SIZE=16384

; Libraries
lib_deps =
    bblanchon/ArduinoJson@^7.3.0
    witnessmenow/UniversalTelegramBot@^1.3.0
    https://github.com/me-no-dev/ESPAsyncWebServer.git
    https://github.com/me-no-dev/AsyncTCP.git

; Monitor
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload
upload_speed = 921600
